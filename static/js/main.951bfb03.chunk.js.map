{"version":3,"sources":["apis/streamsAPI.js","history.js","actions/index.js","actions/types.js","components/streams/StreamForm.js","components/streams/StreamCreate.js","components/streams/StreamEdit.js","components/streams/Modal.js","components/streams/StreamDelete.js","components/streams/StreamList.js","components/streams/StreamShow.js","components/GoogleAuth.js","components/Header.js","components/App.js","reducers/authReducer.js","reducers/index.js","reducers/streamReducer.js","index.js"],"names":["axios","create","baseURL","createHistory","fetchStream","id","_ref3","Object","asyncToGenerator","regenerator_default","a","mark","_callee3","dispatch","res","wrap","_context3","prev","next","streamsAPI","get","concat","sent","type","payload","data","stop","_x4","apply","this","arguments","StreamForm","renderError","_ref","error","touched","react_default","createElement","className","renderInput","_ref2","input","label","meta","_this","onSubmit","formValues","props","handleSubmit","Field","name","component","React","Component","reduxForm","form","validate","errors","title","description","StreamCreate","createStream","streams_StreamForm","connect","_callee","getState","userId","_context","auth","post","objectSpread","history","push","_x","_x2","StreamEdit","editStream","match","params","stream","initialValues","_","pick","state","ownProps","streams","_ref4","_callee4","_context4","patch","_x5","Modal","ReactDOM","createPortal","onClick","onDismiss","e","stopPropagation","content","actions","document","querySelector","StreamDelete","Fragment","deleteStream","Link","to","streams_Modal","renderContent","renderActionButtons","_ref5","_callee5","_context5","delete","_x6","StreamList","currentUserId","renderList","length","map","key","renderCreateButton","isSignedIn","style","textAlign","fetchStreams","values","_callee2","_context2","_x3","StreamShow","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","videoRef","createRef","buildPlayer","player","destroy","flv","createPlayer","url","attachMediaElement","current","load","_this$props$stream","ref","width","controls","GoogleAuth","onAuthChange","signIn","currentUser","getId","signOut","onSignInClick","onSignOutClick","_this2","window","gapi","client","init","clientId","scope","then","auth2","getAuthInstance","listen","renderAuthButton","Header","components_GoogleAuth","App","Router","components_Header","Switch","Route","path","exact","INITIAL_STATE","combineReducers","undefined","action","formReducer","mapKeys","defineProperty","omit","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","reducers","applyMiddleware","reduxThunk","render","es","components_App"],"mappings":"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","file":"static/js/main.951bfb03.chunk.js","sourcesContent":["import axios from \"axios\";\n\nexport default axios.create({\n  baseURL: \"https://my-json-server.typicode.com/webababy/jsonservermike\"\n});\n","import createHistory from \"history/createBrowserHistory\";\n\nexport default createHistory();\n","import {\n  SIGN_IN,\n  SIGN_OUT,\n  CREATE_STREAM,\n  FETCH_STREAMS,\n  FETCH_STREAM,\n  DELETE_STREAM,\n  EDIT_STREAM\n} from \"./types\";\nimport streamsAPI from \"../apis/streamsAPI\";\nimport history from \"../history\";\n\nexport const signIn = userId => {\n  return {\n    type: SIGN_IN,\n    payload: userId\n  };\n};\n\nexport const signOut = () => {\n  return {\n    type: SIGN_OUT\n  };\n};\n\nexport const createStream = formValues => async (dispatch, getState) => {\n  const { userId } = getState().auth;\n  const res = await streamsAPI.post(\"/streams\", { ...formValues, userId });\n\n  dispatch({ type: CREATE_STREAM, payload: res.data });\n  history.push(\"/\");\n};\n\nexport const fetchStreams = () => async dispatch => {\n  const res = await streamsAPI.get(\"/streams\");\n\n  dispatch({ type: FETCH_STREAMS, payload: res.data });\n};\n\nexport const fetchStream = id => async dispatch => {\n  const res = await streamsAPI.get(`/streams/${id}`);\n\n  dispatch({ type: FETCH_STREAM, payload: res.data });\n};\n\nexport const editStream = (id, formValues) => async dispatch => {\n  const res = await streamsAPI.patch(`/streams/${id}`, formValues);\n\n  dispatch({ type: EDIT_STREAM, payload: res.data });\n  history.push(\"/\");\n};\n\nexport const deleteStream = id => async dispatch => {\n  await streamsAPI.delete(`/streams/${id}`);\n\n  dispatch({ type: DELETE_STREAM, payload: id });\n  history.push(\"/\");\n};\n","export const SIGN_IN = \"SIGN_IN\";\nexport const SIGN_OUT = \"SIGN_OUT\";\nexport const CREATE_STREAM = \"CREATE_STREAM\";\nexport const FETCH_STREAMS = \"FETCH_STREAMS\";\nexport const FETCH_STREAM = \"FETCH_STREAM\";\nexport const DELETE_STREAM = \"DELETE_STREAM\";\nexport const EDIT_STREAM = \"EDIT_STREAM\";\n","import React from \"react\";\nimport { Field, reduxForm } from \"redux-form\";\n\nclass StreamForm extends React.Component {\n  renderError = ({ error, touched }) => {\n    if (error && touched) {\n      return (\n        <div className=\"ui error message\">\n          <div className=\"header\">{error}</div>\n        </div>\n      );\n    }\n  };\n\n  renderInput = ({ input, label, meta }) => {\n    const className = `field ${meta.error && meta.touched ? \"error\" : \"\"}`;\n    return (\n      <div className={className}>\n        <label>{label}</label>\n        <input {...input} />\n        {this.renderError(meta)}\n      </div>\n    );\n  };\n\n  onSubmit = formValues => {\n    this.props.onSubmit(formValues);\n  };\n\n  render() {\n    return (\n      <form\n        onSubmit={this.props.handleSubmit(this.onSubmit)}\n        className=\"ui form error\"\n      >\n        <Field name=\"title\" component={this.renderInput} label=\"Enter Title\" />\n        <Field\n          name=\"description\"\n          component={this.renderInput}\n          label=\"Enter description\"\n        />\n        <button className=\"ui button primary\">Submit</button>\n      </form>\n    );\n  }\n}\n\nconst validate = formValues => {\n  const errors = {};\n  if (!formValues.title) {\n    errors.title = \"you must enter a title\";\n  }\n\n  if (!formValues.description) {\n    errors.description = \"you must enter a description\";\n  }\n\n  return errors;\n};\n\nexport default reduxForm({\n  form: \"streamCreate\",\n  validate\n})(StreamForm);\n","import React from \"react\";\nimport { Field, reduxForm } from \"redux-form\";\nimport { connect } from \"react-redux\";\nimport { createStream } from \"../../actions\";\nimport StreamForm from \"./StreamForm\";\n\nclass StreamCreate extends React.Component {\n  onSubmit = formValues => {\n    this.props.createStream(formValues);\n  };\n\n  render() {\n    return (\n      <div>\n        <h3>Create a Stream</h3>\n        <StreamForm onSubmit={this.onSubmit} />\n      </div>\n    );\n  }\n}\n\nexport default connect(\n  null,\n  { createStream }\n)(StreamCreate);\n","import React from \"react\";\nimport _ from \"lodash\";\nimport { connect } from \"react-redux\";\nimport { fetchStream, editStream } from \"../../actions\";\nimport StreamForm from \"./StreamForm\";\n\nclass StreamEdit extends React.Component {\n  componentDidMount() {\n    this.props.fetchStream(this.props.match.params.id);\n  }\n\n  onSubmit = formValues => {\n    this.props.editStream(this.props.match.params.id, formValues);\n  };\n\n  render() {\n    if (!this.props.stream) {\n      return <div>Loading...</div>;\n    }\n\n    return (\n      <div>\n        <h3>Edit a Stream</h3>\n        <StreamForm\n          initialValues={_.pick(this.props.stream, \"title\", \"description\")}\n          onSubmit={this.onSubmit}\n        />\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state, ownProps) => {\n  return { stream: state.streams[ownProps.match.params.id] };\n};\n\nexport default connect(\n  mapStateToProps,\n  { fetchStream, editStream }\n)(StreamEdit);\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\n\nconst Modal = props => {\n  return ReactDOM.createPortal(\n    <div onClick={props.onDismiss} className=\"ui dimmer modals visible active\">\n      <div\n        onClick={e => e.stopPropagation()}\n        className=\"ui standard modal visible active\"\n      >\n        <div className=\"header\">{props.title}</div>\n        <div className=\"content\">{props.content}</div>\n        <div className=\"actions\">{props.actions}</div>\n      </div>\n    </div>,\n    document.querySelector(\"#modal\")\n  );\n};\n\nexport default Modal;\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\n\nimport history from \"../../history\";\nimport Modal from \"./Modal\";\nimport { fetchStream, deleteStream } from \"../../actions\";\n\nclass StreamDelete extends React.Component {\n  componentDidMount() {\n    this.props.fetchStream(this.props.match.params.id);\n  }\n\n  renderActionButtons() {\n    const { id } = this.props.match.params;\n\n    return (\n      <React.Fragment>\n        <button\n          onClick={() => this.props.deleteStream(id)}\n          className=\"ui button negtive\"\n        >\n          Delete\n        </button>\n        <Link to=\"/\" className=\"ui button\">\n          Cancel\n        </Link>\n      </React.Fragment>\n    );\n  }\n\n  renderContent() {\n    if (!this.props.stream) {\n      return \"Are you sure you want to delete this stream?\";\n    }\n\n    return `Are you sure you want to delete the stream with title: ${\n      this.props.stream.title\n    }`;\n  }\n\n  render() {\n    return (\n      <Modal\n        title=\"Delete Stream\"\n        content={this.renderContent()}\n        actions={this.renderActionButtons()}\n        onDismiss={() => history.push(\"/\")}\n      />\n    );\n  }\n}\n\nconst mapStateToProps = (state, ownProps) => {\n  return { stream: state.streams[ownProps.match.params.id] };\n};\n\nexport default connect(\n  mapStateToProps,\n  { fetchStream, deleteStream }\n)(StreamDelete);\n","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport { Link } from \"react-router-dom\";\nimport { fetchStreams } from \"../../actions\";\n\nclass StreamList extends React.Component {\n  componentDidMount() {\n    this.props.fetchStreams();\n  }\n\n  renderActionButtons = stream => {\n    if (stream.userId === this.props.currentUserId) {\n      return (\n        <div className=\"right floated content\">\n          <Link to={`/streams/edit/${stream.id}`} className=\"ui button primary\">\n            Edit\n          </Link>\n          <Link\n            to={`/streams/delete/${stream.id}`}\n            className=\"ui button negtive\"\n          >\n            Delete\n          </Link>\n        </div>\n      );\n    }\n  };\n\n  renderList = () => {\n    if (this.props.streams.length > 0) {\n      return this.props.streams.map(stream => {\n        return (\n          <div className=\"item\" key={stream.id}>\n            {this.renderActionButtons(stream)}\n            <i className=\"large middle aligned icon camera\" />\n            <div className=\"content\">\n              <Link to={`/streams/${stream.id}`} className=\"header\">\n                {stream.title}\n              </Link>\n              <div className=\"description\">{stream.description}</div>\n            </div>\n          </div>\n        );\n      });\n    }\n  };\n\n  renderCreateButton = () => {\n    if (this.props.isSignedIn) {\n      return (\n        <div style={{ textAlign: \"right\" }}>\n          <Link to={`/streams/new`} className=\"ui button primary\">\n            Create Stream\n          </Link>\n        </div>\n      );\n    }\n  };\n\n  render() {\n    return (\n      <div>\n        <h2>Streams</h2>\n        <div className=\"ui celled list\">{this.renderList()}</div>\n        {this.renderCreateButton()}\n      </div>\n    );\n  }\n}\n\n//Object.values is a func that take all values in an Obj and turn to an Array. (only values not keys)\nconst mapStateToProps = state => {\n  return {\n    streams: Object.values(state.streams),\n    currentUserId: state.auth.userId,\n    isSignedIn: state.auth.isSignedIn\n  };\n};\n\nexport default connect(\n  mapStateToProps,\n  { fetchStreams }\n)(StreamList);\n","import React from \"react\";\nimport flv from \"flv.js\";\nimport { connect } from \"react-redux\";\nimport { fetchStream } from \"../../actions\";\n\nclass StreamShow extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.videoRef = React.createRef();\n  }\n\n  componentDidMount() {\n    const { id } = this.props.match.params;\n\n    this.props.fetchStream(id);\n    this.buildPlayer();\n  }\n\n  componentDidUpdate() {\n    this.buildPlayer();\n  }\n\n  componentWillUnmount() {\n    this.player.destroy();\n  }\n\n  buildPlayer() {\n    if (this.player || !this.props.stream) {\n      return;\n    }\n\n    const { id } = this.props.match.params;\n    this.player = flv.createPlayer({\n      type: \"flv\",\n      url: `http://localhost:8000/live/${id}.flv`\n    });\n\n    this.player.attachMediaElement(this.videoRef.current);\n    this.player.load();\n  }\n\n  render() {\n    if (!this.props.stream) {\n      return <div>Loading...</div>;\n    }\n\n    const { title, description } = this.props.stream;\n\n    return (\n      <div>\n        <video ref={this.videoRef} style={{ width: \"100%\" }} controls />\n        <h1>{title}</h1>\n        <h5>{description}</h5>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state, ownProps) => {\n  return { stream: state.streams[ownProps.match.params.id] };\n};\n\nexport default connect(\n  mapStateToProps,\n  { fetchStream }\n)(StreamShow);\n","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport { signIn, signOut } from \"../actions\";\n\nclass GoogleAuth extends React.Component {\n  componentDidMount() {\n    window.gapi.load(\"client:auth2\", () => {\n      window.gapi.client\n        .init({\n          clientId:\n            \"456939671978-4a3p9hg3oa9shcpq9g04p193jc1asphc.apps.googleusercontent.com\",\n          scope: \"email\"\n        })\n        .then(() => {\n          this.auth = window.gapi.auth2.getAuthInstance();\n\n          this.onAuthChange(this.auth.isSignedIn.get());\n          this.auth.isSignedIn.listen(this.onAuthChange);\n        });\n    });\n  }\n\n  onAuthChange = isSignedIn => {\n    if (isSignedIn) {\n      this.props.signIn(this.auth.currentUser.get().getId());\n    } else {\n      this.props.signOut();\n    }\n  };\n\n  onSignInClick = () => {\n    this.auth.signIn();\n  };\n\n  onSignOutClick = () => {\n    this.auth.signOut();\n  };\n\n  renderAuthButton() {\n    if (this.props.isSignedIn === null) {\n      return null;\n    } else if (this.props.isSignedIn) {\n      return (\n        <button onClick={this.onSignOutClick} className=\"ui red google button\">\n          <i className=\"google icon\" />\n          Sign out\n        </button>\n      );\n    } else {\n      return (\n        <button onClick={this.onSignInClick} className=\"ui red google button\">\n          <i className=\"google icon\" />\n          Sign In with Google\n        </button>\n      );\n    }\n  }\n\n  render() {\n    return <div>{this.renderAuthButton()}</div>;\n  }\n}\n\nconst mapStateToProps = state => {\n  return { isSignedIn: state.auth.isSignedIn };\n};\n\nexport default connect(\n  mapStateToProps,\n  { signIn, signOut }\n)(GoogleAuth);\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport GoogleAuth from \"./GoogleAuth\";\n\nconst Header = () => {\n  return (\n    <div className=\"ui secondary pointing menu\">\n      <Link to=\"/\" className=\"item\">\n        Streamy\n      </Link>\n      <div className=\"right menu\">\n        <Link to=\"/\" className=\"item\">\n          All streams\n        </Link>\n        <GoogleAuth />\n      </div>\n    </div>\n  );\n};\n\nexport default Header;\n","import React from \"react\";\nimport { Router, Route, Switch } from \"react-router-dom\";\nimport StreamCreate from \"./streams/StreamCreate\";\nimport StreamEdit from \"./streams/StreamEdit\";\nimport StreamDelete from \"./streams/StreamDelete\";\nimport StreamList from \"./streams/StreamList\";\nimport StreamShow from \"./streams/StreamShow\";\nimport Header from \"./Header\";\nimport history from \"../history\";\n\nconst App = () => {\n  return (\n    <div className=\"ui container\">\n      <Router history={history}>\n        <div>\n          <Header />\n          <Switch>\n            <Route path=\"/\" exact component={StreamList} />\n            <Route path=\"/streams/new\" exact component={StreamCreate} />\n            <Route path=\"/streams/:id\" exact component={StreamShow} />\n            <Route path=\"/streams/edit/:id\" exact component={StreamEdit} />\n            <Route path=\"/streams/delete/:id\" exact component={StreamDelete} />\n          </Switch>\n        </div>\n      </Router>\n    </div>\n  );\n};\n\nexport default App;\n","import { SIGN_IN, SIGN_OUT } from \"../actions/types\";\n\nconst INITIAL_STATE = {\n  isSignedIn: null,\n  userId: null\n};\n\nexport default (state = INITIAL_STATE, action) => {\n  switch (action.type) {\n    case SIGN_IN:\n      return { ...state, isSignedIn: true, userId: action.payload };\n    case SIGN_OUT:\n      return { ...state, isSignedIn: false, userId: null };\n    default:\n      return state;\n  }\n};\n","import { combineReducers } from \"redux\";\n\nimport { reducer as formReducer } from \"redux-form\";\n\nimport streamReducer from \"./streamReducer\";\nimport authReducer from \"./authReducer\";\n\nexport default combineReducers({\n  auth: authReducer,\n  form: formReducer,\n  streams: streamReducer\n});\n","import _ from \"lodash\";\nimport {\n  CREATE_STREAM,\n  FETCH_STREAMS,\n  FETCH_STREAM,\n  DELETE_STREAM,\n  EDIT_STREAM\n} from \"../actions/types\";\n\nexport default (state = {}, action) => {\n  switch (action.type) {\n    case FETCH_STREAMS:\n      return { ...state, ..._.mapKeys(action.payload, \"id\") };\n    case FETCH_STREAM:\n      return { ...state, [action.payload.id]: action.payload };\n    case CREATE_STREAM:\n      return { ...state, [action.payload.id]: action.payload };\n    case EDIT_STREAM:\n      return { ...state, [action.payload.id]: action.payload };\n    case DELETE_STREAM:\n      return _.omit(state, action.payload);\n    default:\n      return state;\n  }\n};\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { Provider } from \"react-redux\";\nimport { createStore, applyMiddleware, compose } from \"redux\";\nimport reduxThunk from \"redux-thunk\";\n\nimport App from \"./components/App\";\nimport reducers from \"./reducers\";\n\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\nconst store = createStore(\n  reducers,\n  composeEnhancers(applyMiddleware(reduxThunk))\n);\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.querySelector(\"#root\")\n);\n"],"sourceRoot":""}